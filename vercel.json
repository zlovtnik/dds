{
    "version": 2,
    "builds": [
        {
            "src": "api/**/*.rs",
            "use": "vercel-rust@4.0.8",
            "config": {
                "distDir": "api",
                "buildCommand": "RUSTUP_HOME=/root/.rustup CARGO_HOME=/root/.cargo /root/.cargo/bin/cargo build --bin graphql --release --target-dir=/vercel/output/target"
            }
        },
        {
            "src": "public/**",
            "use": "@vercel/static"
        }
    ],
    "routes": [
        {
            "src": "/graphql",
            "dest": "/api/graphql"
        },
        {
            "src": "/graphiql",
            "dest": "/api/graphql"
        },
        {
            "src": "/(.*)",
            "dest": "/public/$1"
        }
    ],
    "env": {
        "RUST_BACKTRACE": "1",
        "RUST_LOG": "info",
        "SQLX_OFFLINE": "true",
        "RUSTUP_HOME": "/root/.rustup",
        "CARGO_HOME": "/root/.cargo"
    }
}